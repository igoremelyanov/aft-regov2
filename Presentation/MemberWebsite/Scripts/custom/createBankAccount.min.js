(function(){var n,t,i={}.hasOwnProperty,r=function(n,t){function u(){this.constructor=n}for(var r in t)i.call(t,r)&&(n[r]=t[r]);return u.prototype=t.prototype,n.prototype=new u,n.__super__=t.prototype,n};n=function(n){function t(){t.__super__.constructor.apply(this,arguments);$("#page").i18n();this.branch=ko.observable().extend({validatable:!0});this.bankId=ko.observable().extend({validatable:!0});this.accountName=ko.observable().extend({validatable:!0});this.province=ko.observable().extend({validatable:!0});this.accountNumber=ko.observable().extend({validatable:!0});this.city=ko.observable().extend({validatable:!0});this.banks=ko.observableArray();$.get("/api/getbanks").success(function(n){return function(t){return n.banks(t)}}(this));this.submitForm=function(n){return function(){var t;return t={branch:n.branch(),bank:n.bankId(),accountName:n.accountName(),province:n.province(),accountNumber:n.accountNumber(),city:n.city()},$.postJson("/api/ValidatePlayerBankAccount",t).success(function(i){return i.hasError?$.each(i.errors,function(t){var r;return r=n[t],r.error=i18n.t(JSON.parse(i.errors[t]).text),r.__valid__(!1)}):$.post("/api/CreatePlayerBankAccount",t).success(function(){return redirect("/home/withdrawal")})}),!1}}(this)}return r(t,n),t}(FormBase);t=new n;ko.applyBindings(t,document.getElementById("create-bank-account-wrapper"))}).call(this);
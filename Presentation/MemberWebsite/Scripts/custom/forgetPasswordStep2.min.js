(function(){var n,t=function(n,t){function u(){this.constructor=n}for(var r in t)i.call(t,r)&&(n[r]=t[r]);return u.prototype=t.prototype,n.prototype=new u,n.__super__=t.prototype,n},i={}.hasOwnProperty;n=function(n){function i(){i.__super__.constructor.apply(this,arguments);this.playerId=ko.observable();this.token=ko.observable();this.question=ko.observable("(loading...)");this.answer=ko.observable().extend({validatable:!0});this.securityQuestion=function(){return function(){return $.getJson("/api/securityQuestions").done(function(n){return console.log(n.securityQuestions)})}}(this);this.submitSecurityAnswerCheck=function(n){return function(){return $.postJson("/api/ValidateSecurityAnswerRequest",{PlayerId:n.playerId(),Answer:n.answer()}).success(function(t){return t.hasError?$.each(t.errors,function(i){var r;return r=n[i],r.error=i18n.t("resetPassword."+t.errors[i]),r.__valid__(!1)}):($("#security-answer-form").submit(),redirect("/Home/ForgetPasswordStep3?token="+n.token()))}),!1}}(this),function(n){return function(){return n.playerId($("[name=playerId]").val()),n.token($("[name=token]").val()),$.get("/api/getSecurityQuestion",{PlayerId:n.playerId()},function(t){return n.question(t.securityQuestion)})}}(this)()}var r;return t(i,n),r=new i,ko.applyBindings(r,document.getElementById("forget-step2-wrapper")),$("#forget-step2-wrapper").i18n(),i}(FormBase)}).call(this);
//# sourceMappingURL=forgetPasswordStep2.min.js.map

(function(){var i,n,t=function(n,t){return function(){return n.apply(t,arguments)}};i=function(){function n(){this.loadSecurityQuestions=t(this.loadSecurityQuestions,this);this.loadProfile=t(this.loadProfile,this);this.load=t(this.load,this);this.id=ko.observable();this.personal=new PersonalProfile(this.id);this.security=new SecurityProfile(this.id);this.contacts=new ContactsProfile(this.id);this.verification=new VerificationProfile(this.id);this.account=new AccountProfile(this.id);this.responsibleGambling=new ResponsibleGambling(this.id);this.claimBonus=new ClaimBonus(this.id);this.withdrawal=new Withdrawal(this.id);this.gamehistory=new GameHistory(this.id);this.transactionhistory=new TransactionHistory(this.id);this.bank=new Bank(this.id);setTimeout(function(){return $(".loader:visible").hide(),$("#profile-wrapper").show()},100)}return n.prototype.load=function(){return this.loadProfile(),this.loadSecurityQuestions()},n.prototype.loadProfile=function(){return $.getJson("/api/profile").done(function(n){return function(t){var r,i;if(t.success)return n.id((i=t.profile).id),n.personal.title(i.title),n.personal.firstName(i.firstName),n.personal.lastName(i.lastName),n.personal.email(i.email),n.personal.birthYear((r=moment(i.dateOfBirth)).year()),n.personal.birthMonth(("0"+(r.month()+1)).slice(-2)),n.personal.birthDay(("0"+r.date()).slice(-2)),n.personal.gender(i.gender),n.personal.currencyCode(i.currencyCode),n.personal.idStatus(i.idStatus),n.personal.isInactive(i.isInactive),n.personal.isFrozen(i.isFrozen),n.personal.isLocked(i.isLocked),n.personal.vipLevel(i.vipLevel),n.security.question(i.securityQuestion),n.security.answer(i.securityAnswer),n.security.questionId(i.securityQuestionId),n.contacts.addressLine1(i.mailingAddressLine1),n.contacts.addressLine2(i.mailingAddressLine2),n.contacts.addressLine3(i.mailingAddressLine3),n.contacts.addressLine4(i.mailingAddressLine4),n.contacts.city(i.mailingAddressCity),n.contacts.countryCode(i.countryCode),n.contacts.phoneNumber(i.phoneNumber),n.contacts.postalCode(i.mailingAddressPostalCode),n.contacts.contactPreference(i.contactPreference),n.verification.phoneNumberVerified(i.isPhoneNumberVerified),n.account.username(i.username)}}(this))},n.prototype.loadSecurityQuestions=function(){return $.getJson("/api/securityQuestions").done(function(n){return function(t){return n.security.questions(t.securityQuestions)}}(this))},n}();n=new i;n.load();ko.applyBindings(n,document.getElementById("profile-wrapper"))}).call(this);
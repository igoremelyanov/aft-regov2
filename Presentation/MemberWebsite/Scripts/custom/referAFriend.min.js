(function(){var t,n=function(n,t){return function(){return n.apply(t,arguments)}};t=function(){function t(){this.toggleTab=n(this.toggleTab,this);this.submitPhoneNumbers=n(this.submitPhoneNumbers,this);this.removePhoneNumber=n(this.removePhoneNumber,this);this.addPhoneNumber=n(this.addPhoneNumber,this);this.messages=ko.observableArray();this.phoneNumbers=ko.observableArray();this.requestInProgress=ko.observable(!1);this.addPhoneNumber();this.canSubmit=ko.computed(function(n){return function(){return n.requestInProgress()===!1&&n.phoneNumbers().length>0}}(this));this.shownTab=ko.observable("tabContent1")}var i;return t.prototype.addPhoneNumber=function(){return this.phoneNumbers.push(ko.observable({number:void 0}))},t.prototype.removePhoneNumber=function(n){return this.phoneNumbers.pop(n)},t.prototype.submitPhoneNumbers=function(){var n;return this.requestInProgress(!0),this.messages([]),$.postJson("/api/ReferFriends",{PhoneNumbers:function(){var t,u,i,r;for(i=this.phoneNumbers(),r=[],t=0,u=i.length;t<u;t++)n=i[t],r.push(n().number);return r}.call(this)}).done(function(n){return function(){return n.phoneNumbers([ko.observable({number:void 0})]),n.messages([i18n.t("app:referFriend.phoneNumbersSuccessfullySubmitted")])}}(this)).fail(function(n){return function(t){var i;return i=JSON.parse(t.responseText),n.messages([i.errors[0].message])}}(this)).always(function(n){return function(){return n.requestInProgress(!1)}}(this))},t.prototype.toggleTab=function(){var n;return n=event.target.hash.substr(1),this.shownTab(n)},i=new t,ko.applyBindings(i,document.getElementById("refer-a-friend-wrapper")),t}()}).call(this);
//# sourceMappingURL=referAFriend.min.js.map

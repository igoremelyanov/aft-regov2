(function(){define(["i18next","durandal/composition","moment","../Scripts/daterangepicker"],function(n,t,i){var u,r;return u={applyLabel:n.t("common.apply"),cancelLabel:n.t("common.cancel"),fromLabel:n.t("common.from"),toLabel:n.t("common.to")},r="YYYY/MM/DD",t.addBindingHandler("date",{init:function(n,t,f){var e,o,s;o=f.get("format")||r;e=f.get("value");s=i();e()!==void 0&&e()!==""&&(s=i(e(),o),e(s.format(o)),$(n).val(s.format(o)));return $(n).daterangepicker({singleDatePicker:!0,locale:u,startDate:s,format:o}).on("apply.daterangepicker",function(n,t){return e(t.startDate.format(o))})}}),t.addBindingHandler("dateRange",{init:function(n,t,f){var a,c,o,v,e,y,p,b,h,l,s,w;h=i.utc("0001/01/01",r);e=f.get("format")||r;b=f.get("includeTime")||!1;s=f.get("startDate");o=f.get("endDate");l=i(s(),e);c=i(o(),e);p=l.format(e);y=c.format(e);a=s()!==void 0&&o()!==void 0&&l.year()>h.year()&&c.year()>h.year();a?(s(p),o(y),w=l,v=c):(s(h.format(e)),o(h.format(e)),w=i().hours(0).minutes(0),v=i().hours(0).minutes(0).add(1,"days"));$(n).daterangepicker({locale:u,startDate:w,endDate:v,format:e,timePicker:b,timePickerIncrement:1,timePicker12Hour:!1}).on("apply.daterangepicker",function(n,t){return s(t.startDate.format(e)),o(t.endDate.format(e))});if(a)return $(n).val(""+p+" - "+y)}})})}).call(this);
(function(){var n=function(n,t){return function(){return n.apply(t,arguments)}};define(["i18next","bonus/bonusCommon"],function(t,i){return function(){function r(r,u,f,e,o){this.Info=r;this.Availability=u;this.Rules=f;this.Wagering=e;this.Notification=o;this.formatTriggers=n(this.formatTriggers,this);this.rewardAmountLimitFormatter=n(this.rewardAmountLimitFormatter,this);this.getGameName=n(this.getGameName,this);this.emptyCaption=i.emptyCaption;this.TemplateType=ko.computed(function(n){return function(){return i.typeFormatter(n.Info.TemplateType())}}(this));this.LicenseeName=ko.computed(function(n){return function(){var t;return t=ko.utils.arrayFirst(n.Info.availableLicensees,function(t){return t.Id===n.Info.LicenseeId()}),t!=null?t.Name:void 0}}(this));this.BrandName=ko.computed(function(n){return function(){var t;if((t=n.Info.currentBrand())!=null)return t.Name}}(this));this.Description=ko.computed(function(n){return function(){return n.Info.Description()?n.Info.Description():n.emptyCaption()}}(this));this.WalletName=ko.computed(function(n){return function(){var t;return n.Info.availableWallets()===null||n.Info.availableWallets()===void 0?null:(t=ko.utils.arrayFirst(n.Info.availableWallets(),function(t){return t.Id===n.Info.WalletTemplateId()}),t!=null?t.Name:void 0)}}(this));this.HasWagering=ko.computed(function(n){return function(){return t.t("common.booleanToYesNo."+n.Wagering.HasWagering())}}(this));this.IsAfterWager=ko.computed(function(n){return function(){return t.t("common.booleanToYesNo."+n.Wagering.IsAfterWager())}}(this));this.Withdrawable=ko.computed(function(n){return function(){return t.t("common.booleanToYesNo."+n.Info.IsWithdrawable())}}(this));this.Mode=ko.computed(function(n){return function(){return i.issuanceModeFormatter(n.Info.Mode())}}(this));this.currencies=ko.computed(function(n){return function(){var t;return function(){var n,u,i,r;for(i=this.Rules.RewardTiers(),r=[],n=0,u=i.length;n<u;n++)t=i[n],r.push(t.CurrencyCode);return r}.call(n).join(", ")}}(this));this.ParentBonusName=ko.computed(function(n){return function(){var i,r,t,f,u;if(n.Availability.ParentBonusId()===null)return n.emptyCaption();for(u=n.Availability.bonuses,t=0,f=u.length;t<f;t++)i=u[t],i.Id===n.Availability.ParentBonusId()&&(r=i.Name);return r===void 0?n.emptyCaption():r}}(this));this.PlayerRegistrationRange=ko.computed(function(n){return function(){var i,u,r;return(i=n.Availability.PlayerRegistrationDateFrom(),r=n.Availability.PlayerRegistrationDateTo(),i===""&&r===""||i===void 0&&r===void 0)?n.emptyCaption():(r===""&&(r="-"),i===""&&(i="-"),u=t.t("common.to"),""+i+" "+u+" "+r)}}(this));this.VipLevels=ko.computed(function(n){return function(){var t,o,i,u,r,f,e,s,h;if(u=n.Availability.VipLevels(),t=n.Availability.availableVips(),t!=null){if(r=[],u.length===0)r=t;else for(f=0,s=u.length;f<s;f++)for(o=u[f],e=0,h=t.length;e<h;e++)i=t[e],i.Code===o&&r.push(i);return function(){var n,u,t;for(t=[],n=0,u=r.length;n<u;n++)i=r[n],t.push(i.Name);return t}().join(", ")}}}(this));this.ExcludeBonusNames=ko.computed(function(n){return function(){var f,s,i,h,c,r,u,l,a,e,o;for(i=[],e=n.Availability.ExcludeBonuses(),r=0,l=e.length;r<l;r++)for(s=e[r],o=n.Availability.bonuses(),u=0,a=o.length;u<a;u++)f=o[u],f.Id===s&&i.push(f.Name);return i.length===0?n.emptyCaption():(h=i.join(", "),c=t.t("bonus.operations."+n.Availability.ExcludeOperation()),""+c+": "+h)}}(this));this.ExcludeRiskLevelNames=ko.computed(function(n){return function(){var t,o,u,s,i,r,h,c,f,e;for(t=[],f=n.Availability.ExcludeRiskLevels(),i=0,h=f.length;i<h;i++)for(s=f[i],e=n.Availability.riskLevels(),r=0,c=e.length;r<c;r++)u=e[r],u.Id===s&&t.push(u.Name);return t.length===0?n.emptyCaption():(o=t.join(", "),""+o)}}(this));this.PlayerRedemptionsLimit=ko.computed(function(n){return function(){return n.Availability.PlayerRedemptionsLimit()===0?n.emptyCaption():n.Availability.PlayerRedemptionsLimit()}}(this));this.PlayerRedemptionsLimitType=ko.computed(function(n){return function(){return t.t("bonus.playerRedemptionsLimitTypes."+n.Availability.PlayerRedemptionsLimitType())}}(this));this.RedemptionsLimit=ko.computed(function(n){return function(){return n.Availability.RedemptionsLimit()===0?n.emptyCaption():n.Availability.RedemptionsLimit()}}(this));this.RewardType=ko.computed(function(n){return function(){return t.t("bonus.rewardTypes."+n.Rules.RewardType())}}(this));this.FundInWallets=ko.computed(function(n){return function(){var t,o,u,f,e,i,r,s,h;if(e=n.Rules.FundInWallets(),t=n.Rules.availableWallets(),t!=null){for(u=[],i=0,s=t.length;i<s;i++)for(f=t[i],r=0,h=e.length;r<h;r++)o=e[r],o===f.Id&&u.push(f.Name);return u.join(", ")}}}(this));this.IsAutoGenerateHighDeposit=ko.computed(function(n){return function(){return t.t("common.booleanToYesNo."+n.Rules.IsAutoGenerateHighDeposit())}}(this));this.WageringMethod=ko.computed(function(n){return function(){return t.t("bonus.wageringMethod."+n.Wagering.Method())}}(this));this.WageringMultiplier=ko.computed(function(n){return function(){return n.Wagering.Multiplier()===0?n.emptyCaption():n.Wagering.Multiplier()}}(this));this.EmailTriggers=ko.computed(function(n){return function(){return n.formatTriggers(n.Notification.EmailTriggers())}}(this));this.SmsTriggers=ko.computed(function(n){return function(){return n.formatTriggers(n.Notification.SmsTriggers())}}(this))}return r.prototype.getGameName=function(n){var t;return t=ko.utils.arrayFirst(this.Wagering.gameList(),function(t){return t.Id===n()}),t?t.Name:""},r.prototype.rewardAmountLimitFormatter=function(n){return n()===0||n()===""?this.emptyCaption():n()},r.prototype.formatTriggers=function(n){var i;return n.length===0?this.emptyCaption():function(){var r,f,u;for(u=[],r=0,f=n.length;r<f;r++)i=n[r],u.push(t.t("messageTemplates.messageTypes."+i));return u}().join(", ")},r}()})}).call(this);
(function(){define(["i18next","bonus/bonusCommon","./changeTracker","./games-dialog"],function(n,t,i,r){return function(){function t(t,u,f,e){this.HasWagering=ko.observable(!1);this.HasWagering.ForEditing=ko.computed({read:function(n){return function(){return n.HasWagering().toString()}}(this),write:function(n){return function(t){return n.HasWagering(t==="true"),n.HasWagering()===!1?n.IsAfterWager(!1):void 0}}(this)});this.Method=ko.observable(0);this.Multiplier=ko.observable(0);this.Threshold=ko.observable(0);this.GameContributions=ko.observableArray();this.IsAfterWager=ko.observable(!1);this.IsAfterWager.ForEditing=ko.computed({read:function(n){return function(){return n.IsAfterWager().toString()}}(this),write:function(n){return function(t){return n.IsAfterWager(t==="true")}}(this)});this.wageringMethodString=ko.observable();this.selectWageringMethod=function(t){return function(i){return t.wageringMethodString(n.t("bonus.wageringMethod."+i)),t.Method(i)}}(this);this.wageringMethodSelectionIsActive=ko.computed(function(n){return function(){return n.HasWagering()?t()||u()?!0:(n.selectWageringMethod(0),!1):!1}}(this));this.availableGames=ko.computed(function(){var n;return(n=e(),n!=null)?ko.utils.arrayFilter(f,function(){return function(t){return ko.utils.arrayFirst(n.Products,function(n){return n===t.ProductId})}}(this)):[]});this.dialog=new r(this.availableGames,this.GameContributions);this.openGamesDialog=function(n){return function(){return n.dialog.show()}}(this);this.removeContribution=function(n){return function(t){return n.GameContributions.remove(t)}}(this);this.vMultiplier=ko.computed({read:function(n){return function(){return n.Multiplier()===0?"":n.Multiplier()}}(this),write:this.Multiplier});this.vThreshold=ko.computed({read:function(n){return function(){return n.Threshold()===0?"":n.Threshold()}}(this),write:this.Threshold});new i(this);ko.validation.group(this)}return t}()})}).call(this);
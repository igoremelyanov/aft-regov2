(function(){var n={}.hasOwnProperty,t=function(t,i){function u(){this.constructor=t}for(var r in i)n.call(i,r)&&(t[r]=i[r]);return u.prototype=i.prototype,t.prototype=new u,t.__super__=i.prototype,t},i=[].indexOf||function(n){for(var t=0,i=this.length;t<i;t++)if(t in this&&this[t]===n)return t;return-1};define(function(n){var u,f,r;return r=n("i18next"),u=n("admin/ip-regulations/base/ip-regulation-model-base"),f=n("config"),function(n){function u(){var n;u.__super__.constructor.call(this,"BrandIpRegulations");this.licensees=ko.observableArray();this.licenseeId=this.makeField();this.licensee=ko.observable();this.brands=ko.observableArray();this.brandId=this.makeField();this.brand=ko.observable();this.licenseeId.subscribe(function(n){return function(t){var i;return n.licensee(function(){var n,f,r,u;for(r=this.licensees(),u=[],n=0,f=r.length;n<f;n++)i=r[n],i.id===t&&u.push(i.name);return u}.call(n)[0]),t!=null?$.get(f.adminApi("BrandIpRegulations/GetLicenseeBrands"),{licenseeId:t,useBrandFilter:!n.isEdit()}).done(function(t){return n.brands(t.brands),n.brandId()==null&&t.brands[0]!=null?n.brandId.setValueAndDefault(t.brands[0].id):void 0}):void 0}}(this));this.brandId.subscribe(function(n){return function(t){var i;return n.brand(function(){var n,f,r,u;for(r=this.brands(),u=[],n=0,f=r.length;n<f;n++)i=r[n],i.id===t&&u.push(i.name);return u}.call(n)[0])}}(this));this.assignedBrands=this.makeArrayField().extend({validation:{validator:function(n){return function(t){return n.isEdit()||(t!=null?t.length:void 0)>0}}(this),message:r.t("admin.messages.brandsRequired"),params:!0}});this.displayBrands=ko.computed(function(n){return function(){var t;return function(){var n,f,r,e,u;for(r=this.brands(),u=[],n=0,f=r.length;n<f;n++)t=r[n],(e=t.id,i.call(this.assignedBrands(),e)>=0)&&u.push(t.name);return u}.call(n).join(", ")}}(this));this.blockingType=this.makeField();this.blockingTypesList=ko.observableArray();this.blockingTypes=ko.computed({read:function(n){return function(){return n.blockingTypesList()}}(this),write:function(n){return function(t){var i,r,u=[];for(i in t)r=t[i],console.log({code:i,name:r}),u.push(n.blockingTypesList().push({code:i,name:r}));return u}}(this)});n=new RegExp("^http(s)?://[a-zA-Z0-9_-]+(.[a-zA-Z0-9_-]+)+");this.redirectionUrl=this.makeField("http://").extend({maxLength:{message:r.t("admin.messages.urlTooLong"),params:200}}).extend({validation:{validator:function(t){return function(i){return!(t.blockingType()==="Redirection")||n.test(i)}}(this),message:r.t("admin.messages.incorrectUrl"),params:!0}})}return t(u,n),u}(u)})}).call(this);
(function(){var n={}.hasOwnProperty,t=function(t,i){function u(){this.constructor=t}for(var r in i)n.call(i,r)&&(t[r]=i[r]);return u.prototype=i.prototype,t.prototype=new u,t.__super__=i.prototype,t},i=[].indexOf||function(n){for(var t=0,i=this.length;t<i;t++)if(t in this&&this[t]===n)return t;return-1};define(function(n){var f,u,r;return r=n("i18next"),f=n("base/base-model"),u=n("config"),function(f){function e(t){var h,c,l,o,a,f,v,s,y;e.__super__.constructor.apply(this,arguments);this.isEdit=ko.observable(!1);this.editIpAddress=ko.observable();this.id=ko.observable();a=["0.0.0.0","255.255.255.255"];c="^([01]?\\d\\d?|2[0-4]\\d|25[0-5])\\.([01]?\\d\\d?|2[0-4]\\d|25[0-5])\\.([01]?\\d\\d?|2[0-4]\\d|25[0-5])\\.([01]?\\d\\d?|2[0-4]\\d|25[0-5])$";l="^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]).){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]).){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$";h="("+c+")|("+l+")";o=new RegExp(h);y=function(n){var i,t;return n!=null?(t=n.split("/"),t.length===1?o.test(n):t.length===2?(i=t[0].indexOf(":")!==-1,o.test(t[0])&&!isNaN(t[1])&&(i?Math.round(t[1])<=128:Math.round(t[1])<=32)):!1):!1};v=function(n){var t,f,u,e,i,r,o;if(n!=null){for(i=n.split("."),f=i.length===4,t=!0,r=0,o=i.length;r<o;r++)e=i[r],u=e.split("-"),t=t&&u.length<=2&&u.map(function(n){var t;return t=Math.round(n),!isNaN(t)&&t<=255}).reduce(function(n,t){return n&&t});return f&&t}return!1};s=function(n){return!(i.call(a,n)>=0)&&(y(n)||v(n))};this.ipAddressBatch=this.makeField().extend({validation:{validator:function(){return function(n){var i,t;return n!=null?(t=function(){var t,f,r,u;for(r=n.replace("\n","").replace(" ","").replace("\t","").split(";"),u=[],t=0,f=r.length;t<f;t++)i=r[t],u.push(i.trim());return u}(),t=t.filter(function(n){return n!==""}),t.map(function(n){return s(n)}).reduce(function(n,t){return n&&t})):!0}}(this),message:r.t("admin.messages.incorrectFileFormat"),params:!0}}).extend({validation:{async:!0,validator:function(){return function(n,i,r){return n!=null&&n!==""?$.get(u.adminApi(""+t+"/IsIpAddressBatchUnique"),{ipAddressBatch:n}).done(function(n){return r(n===!0)}):r(!1)}}(this),message:r.t("admin.messages.duplicateIp"),params:!0}});this.ipAddress=this.makeField().extend({validation:{validator:function(n){return function(t){return n.ipAddressBatch()!=null||t==null||t.trim()!==""}}(this),message:r.t("admin.messages.required"),params:!0}}).extend({validation:{async:!0,validator:function(n){return function(i,r,f){return i===n.editIpAddress()?f(!0):i!=null&&i!==""?$.get(u.adminApi(""+t+"/IsIpAddressUnique"),{ipAddress:i}).done(function(n){return f(n===!0)}):f(!1)}}(this),message:r.t("admin.messages.duplicateIp"),params:!0}}).extend({validation:{validator:function(n){return function(t){return n.ipAddressBatch()!=null||s(t)||t==="::1"}}(this),message:r.t("admin.messages.ipAddressInvalid"),params:!0}});this.description=this.makeField();f=n("security/security");this.isLicenseeLocked=ko.computed(function(){return function(){return f.licensees()!=null&&f.licensees().length>0&&!f.isSuperAdmin()}}(this));this.isSingleBrand=ko.computed(function(){return function(){return f.isSingleBrand()}}(this))}return t(e,f),e}(f)})}).call(this);
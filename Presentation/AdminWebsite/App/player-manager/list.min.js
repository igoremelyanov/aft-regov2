(function(){define(["nav","ResizeManager","i18next","security/security","JqGridUtil","shell","config","controls/grid"],function(n,t,i,r,u,f,e){return function(){function t(){this.shell=f;this.selectedRowId=ko.observable();this.search=ko.observable("");this.config=e;this.username=null;this.compositionComplete=function(n){return function(){$("#player-grid").on("gridLoad selectionChange",function(t,i){return n.selectedRowId(i.id),n.username=i.data.Username});return $("#player-username-search-form").submit(function(){return n.search($("#player-username-search").val()),!1})}}(this)}return t.prototype.isRequestBtnVisible=ko.computed(function(){return r.isOperationAllowed(r.permissions.create,r.categories.offlineDepositRequests)}),t.prototype.isWithdrawBtnVisible=ko.computed(function(){return r.isOperationAllowed(r.permissions.create,r.categories.offlineWithdrawalRequest)}),t.prototype.isPlayerInfoBtnVisible=ko.computed(function(){return r.isOperationAllowed(r.permissions.view,r.categories.playerManager)}),t.prototype.isNewPlayerBtnVisible=ko.computed(function(){return r.isOperationAllowed(r.permissions.create,r.categories.playerManager)}),t.prototype.openPlayerTab=function(t,i,r){if(this.selectedRowId())return n.open({path:t,title:i,data:{hash:r,playerId:this.selectedRowId()}})},t.prototype.openPlayerTabWithoutRow=function(t,i,r){return n.open({path:t,title:i,data:{hash:r}})},t.prototype.depositRequest=function(){return this.openPlayerTab("player-manager/offline-deposit/add-request",i.t("app:playerManager.list.offlineDepositRequest"),"#offline-deposit-request")},t.prototype.withdrawRequest=function(){return this.openPlayerTab("payments/withdrawal/request",i.t("app:playerManager.tab.offlineWithdrawRequest"),"#offline-withdraw-request")},t.prototype.playerInfo=function(){return n.open({path:"player-manager/info",title:i.t("app:playerManager.list.playerInfo"),data:{playerId:this.selectedRowId()}})},t.prototype.playerAdd=function(){return this.openPlayerTabWithoutRow("player-manager/add",i.t("app:playerManager.list.add"),"#player-manager-add")},t.prototype.beforeSubmit=function(n,t){return console.log(n,t)},t}()})}).call(this);
(function(){define(function(n){var i,r,t;return n("controls/grid"),r=n("nav"),i=n("i18next"),t=n("security/security"),function(){function n(){this.selectedRowId=ko.observable();this.selectedRowDepositType=ko.observable();this.usernameSearchPattern=ko.observable();this.filterVisible=ko.observable(!1);this.paymentMethods=ko.observableArrays()[0];this.isApproveBtnVisible=ko.computed(function(){return t.isOperationAllowed(t.permissions.approve,t.categories.depositApproval)});this.isRejectBtnVisible=ko.computed(function(){return t.isOperationAllowed(t.permissions.reject,t.categories.depositApproval)});this.compositionComplete=function(n){return function(){return $(function(){$("#deposit-approve-grid").on("gridLoad selectionChange",function(t,i){return n.selectedRowId(i.id),n.selectedRowDepositType(i.data.DepositType)});return $("#deposit-approve-username-search-form").submit(function(){return n.usernameSearchPattern($("#deposit-approve-username-search").val()),$("#deposit-approve-grid").trigger("reload"),!1})})}}(this)}return n.prototype.approveDepositRequest=function(){return r.open({path:this.getPath(),title:i.t("app:common.approve"),data:{hash:"#offline-deposit-approve",requestId:this.selectedRowId(),action:"approve"}})},n.prototype.rejectDepositRequest=function(){return r.open({path:this.getPath(),title:i.t("app:common.reject"),data:{hash:"#offline-deposit-reject",requestId:this.selectedRowId(),action:"reject"}})},n.prototype.activate=function(){return $.get("/PaymentSettings/PaymenMethodsList").done(function(n){return function(t){var u,i,f,r;for(r=[],i=0,f=t.length;i<f;i++)u=t[i],r.push(n.paymentMethods.push(u));return r}}(this))},n.prototype.getPath=function(){return this.selectedRowDepositType()==="Online"?"player-manager/offline-deposit/verifyOnlineDeposit":"player-manager/offline-deposit/approve"},n}()})}).call(this);
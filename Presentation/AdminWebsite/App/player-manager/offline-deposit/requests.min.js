(function(){define(function(n){var i,r,t;return n("controls/grid"),r=n("nav"),i=n("i18next"),t=n("security/security"),function(){function n(){this.i18n=i;this.selectedRowId=ko.observable();this.usernameSearchPattern=ko.observable();this.filterVisible=ko.observable(!1);this.isConfirmBtnVisible=ko.computed(function(){return t.isOperationAllowed(t.permissions.confirm,t.categories.offlineDepositConfirmation)});this.isViewBtnVisible=ko.computed(function(){return t.isOperationAllowed(t.permissions.view,t.categories.offlineDepositRequests)});this.transferTypeFormatter=function(){return function(n){return i.t("app:payment.transferTypes."+n)}}(this);this.depositMethodFormatter=function(){return function(n){return i.t("app:payment.depositMethods."+n)}}(this);this.compositionComplete=function(n){return function(){return $(function(){$("#offline-deposit-confirm-grid").on("gridLoad selectionChange",function(t,i){return n.selectedRowId(i.id)});return $("#offline-deposit-confirm-username-search-form").submit(function(){return n.usernameSearchPattern($("#offline-deposit-confirm-username-search").val()),$("#offline-deposit-confirm-grid").trigger("reload"),!1})})}}(this)}return n.prototype.confirmDepositRequest=function(){return r.open({path:"player-manager/offline-deposit/confirm",title:i.t("app:payment.offlineDepositRequest.tabTitle.confirm"),data:{hash:"#offline-deposit-confirm",requestId:this.selectedRowId()}})},n.prototype.viewDepositRequest=function(){return r.open({path:"player-manager/offline-deposit/view-request",title:i.t("app:payment.offlineDepositRequest.view"),data:{hash:"#offline-deposit-view",requestId:this.selectedRowId()}})},n}()})}).call(this);
(function(){define(function(n){var i,r,t;return n("controls/grid"),r=n("nav"),i=n("i18next"),t=n("security/security"),function(){function n(){this.selectedRowId=ko.observable();this.selectedRowDepositType=ko.observable();this.usernameSearchPattern=ko.observable();this.filterVisible=ko.observable(!1);this.paymentMethods=ko.observableArrays()[0];this.isVerifyBtnVisible=ko.computed(function(){return t.isOperationAllowed(t.permissions.verify,t.categories.depositVerification)});this.isUnverifyBtnVisible=ko.computed(function(){return t.isOperationAllowed(t.permissions.unverify,t.categories.depositVerification)});this.isRejectBtnVisible=ko.computed(function(){return t.isOperationAllowed(t.permissions.reject,t.categories.depositVerification)});this.compositionComplete=function(n){return function(){return $(function(){$("#deposit-verify-grid").on("gridLoad selectionChange",function(t,i){return n.selectedRowId(i.id),n.selectedRowDepositType(i.data.DepositType)});return $("#deposit-verify-username-search-form").submit(function(){return n.usernameSearchPattern($("#deposit-verify-username-search").val()),$("#deposit-verify-grid").trigger("reload"),!1})})}}(this)}return n.prototype.verifyDepositRequest=function(){return r.open({path:this.getPath(),title:i.t("app:common.verify"),data:{hash:"#offline-deposit-confirm",requestId:this.selectedRowId(),action:"verify"}})},n.prototype.unverifyDepositRequest=function(){return r.open({path:this.getPath(),title:i.t("app:common.unverify"),data:{hash:"#offline-deposit-confirm",requestId:this.selectedRowId(),action:"unverify"}})},n.prototype.rejectDepositRequest=function(){return r.open({path:this.getPath(),title:i.t("app:common.reject"),data:{hash:"#online-deposit-reject",requestId:this.selectedRowId(),action:"reject"}})},n.prototype.getPath=function(){return this.selectedRowDepositType()==="Online"?"player-manager/offline-deposit/verifyOnlineDeposit":"player-manager/offline-deposit/verify"},n.prototype.activate=function(){return $.get("/PaymentSettings/PaymenMethodsList").done(function(n){return function(t){var u,i,f,r;for(r=[],i=0,f=t.length;i<f;i++)u=t[i],r.push(n.paymentMethods.push(u));return r}}(this))},n}()})}).call(this);
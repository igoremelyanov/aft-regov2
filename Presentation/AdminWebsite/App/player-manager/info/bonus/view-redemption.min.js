(function(){define(["nav","komapping","bonus/bonusCommon","i18next","config"],function(n,t,i,r,u){return function(){function f(){var n;this.i18N=r;this.config=u;n=ko.observables();this.LicenseeName=n[0];this.BrandName=n[1];this.Username=n[2];this.BonusName=n[3];this.ActivationState=n[4];this.RolloverState=n[5];this.Amount=n[6];this.LockedAmount=n[7];this.Rollover=n[8];this.activationData=n[9];this.vActivationState=ko.computed(function(n){return function(){return i.redemptionActivationFormatter(n.ActivationState())}}(this));this.vRolloverState=ko.computed(function(n){return function(){return i.redemptionRolloverFormatter(n.RolloverState())}}(this))}return f.prototype.attached=function(n){var t;return t=findGrid(n),$("form",n).submit(function(){return t.trigger("reload"),!1})},f.prototype.activate=function(n){return this.activationData(n),$.get(u.adminApi("/BonusHistory/Get"),n).done(function(n){return function(i){return t.fromJS(i,{},n)}}(this))},f.prototype.eventTypeFormatter=function(){return r.t("playerManager.bonusHistory.eventTypes."+this.DataType)},f.prototype.eventDescriptionFormatter=function(){var t,n;if(n=r.t("playerManager.bonusHistory.eventTemplates."+this.DataType),this.Data!=null)for(t in this.Data)n=n.replace("{"+t+"}",this.Data[t]);return n},f.prototype.cancel=function(){return n.close()},f}()})}).call(this);
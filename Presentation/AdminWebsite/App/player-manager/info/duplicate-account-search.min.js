(function(){var n=function(n,t){return function(){return n.apply(t,arguments)}};define(function(t){var r,u,i,f;return t("controls/grid"),f=t("nav"),u=t("player-manager/info/confirm-dialog/confirm-dialog"),r=t("config"),i=t("EntityFormUtil"),function(){function r(){this.colorClass=n(this.colorClass,this);this.setMetadata=n(this.setMetadata,this);var r;this.moment=t("moment");this.config=t("config");this.playerId=ko.observable();this.selectedRowId=ko.observable();this.metadata=ko.observable([]);this.form=new i.Form(this);this.form.makeField("deviceIdExactScore",ko.observable());this.form.makeField("firstNameExactScore",ko.observable());this.form.makeField("lastNameExactScore",ko.observable());this.form.makeField("fullNameExactScore",ko.observable());this.form.makeField("usernameExactScore",ko.observable());this.form.makeField("addressExactScore",ko.observable());this.form.makeField("signUpIpExactScore",ko.observable());this.form.makeField("mobilePhoneExactScore",ko.observable());this.form.makeField("dateOfBirthExactScore",ko.observable());this.form.makeField("emailAddressExactScore",ko.observable());this.form.makeField("zipCodeExactScore",ko.observable());this.form.makeField("deviceIdFuzzyScore",ko.observable());this.form.makeField("firstNameFuzzyScore",ko.observable());this.form.makeField("lastNameFuzzyScore",ko.observable());this.form.makeField("fullNameFuzzyScore",ko.observable());this.form.makeField("usernameFuzzyScore",ko.observable());this.form.makeField("addressFuzzyScore",ko.observable());this.form.makeField("signUpIpFuzzyScore",ko.observable());this.form.makeField("mobilePhoneFuzzyScore",ko.observable());this.form.makeField("dateOfBirthFuzzyScore",ko.observable());this.form.makeField("emailAddressFuzzyScore",ko.observable());this.form.makeField("zipCodeFuzzyScore",ko.observable());r=["deviceIdExactScore","firstNameExactScore","lastNameExactScore","fullNameExactScore","usernameExactScore","addressExactScore","signUpIpExactScore","mobilePhoneExactScore","dateOfBirthExactScore","emailAddressExactScore","zipCodeExactScore","deviceIdFuzzyScore","firstNameFuzzyScore","lastNameFuzzyScore","fullNameFuzzyScore","usernameFuzzyScore","addressFuzzyScore","signUpIpFuzzyScore","mobilePhoneFuzzyScore","dateOfBirthFuzzyScore","emailAddressFuzzyScore","zipCodeFuzzyScore"];i.publishIds(this,"duplicate-search-",r);i.addCommonMembers(this);this.form.publishIsReadOnly(r);this.getFormData=function(n){return function(){return ko.toJSON({deviceIdExactScore:parseInt(n.fields.deviceIdExactScore()?n.fields.deviceIdExactScore():0),firstNameExactScore:parseInt(n.fields.firstNameExactScore()?n.fields.firstNameExactScore():0),lastNameExactScore:parseInt(n.fields.lastNameExactScore()?n.fields.lastNameExactScore():0),usernameExactScore:parseInt(n.fields.usernameExactScore()?n.fields.usernameExactScore():0),addressExactScore:parseInt(n.fields.addressExactScore()?n.fields.addressExactScore():0),signUpIpExactScore:parseInt(n.fields.signUpIpExactScore()?n.fields.signUpIpExactScore():0),mobilePhoneExactScore:parseInt(n.fields.mobilePhoneExactScore()?n.fields.mobilePhoneExactScore():0),dateOfBirthExactScore:parseInt(n.fields.dateOfBirthExactScore()?n.fields.dateOfBirthExactScore():0),emailAddressExactScore:parseInt(n.fields.emailAddressExactScore()?n.fields.emailAddressExactScore():0),zipCodeExactScore:parseInt(n.fields.zipCodeExactScore()?n.fields.zipCodeExactScore():0)})}}(this);this.totalExactScore=ko.computed(function(n){return function(){var i,r,u,f,e,o,s,h,t,c,l,a;return t=0,u=parseInt(n.fields.deviceIdExactScore()),isNaN(u)||(t+=u),e=parseInt(n.fields.firstNameExactScore()),isNaN(e)||(t+=e),s=parseInt(n.fields.lastNameExactScore()),isNaN(s)||(t+=s),o=parseInt(n.fields.fullNameExactScore()),isNaN(o)||(t+=o),l=parseInt(n.fields.usernameExactScore()),isNaN(l)||(t+=l),i=parseInt(n.fields.addressExactScore()),isNaN(i)||(t+=i),c=parseInt(n.fields.signUpIpExactScore()),isNaN(c)||(t+=c),h=parseInt(n.fields.mobilePhoneExactScore()),isNaN(h)||(t+=h),r=parseInt(n.fields.dateOfBirthExactScore()),isNaN(r)||(t+=r),f=parseInt(n.fields.emailAddressExactScore()),isNaN(f)||(t+=f),a=parseInt(n.fields.zipCodeExactScore()),isNaN(a)||(t+=a),t}}(this));this.totalFuzzyScore=ko.computed(function(n){return function(){var i,r,u,f,e,o,s,h,t,c,l,a;return t=0,u=parseInt(n.fields.deviceIdFuzzyScore()),isNaN(u)||(t+=u),e=parseInt(n.fields.firstNameFuzzyScore()),isNaN(e)||(t+=e),s=parseInt(n.fields.lastNameFuzzyScore()),isNaN(s)||(t+=s),o=parseInt(n.fields.fullNameFuzzyScore()),isNaN(o)||(t+=o),l=parseInt(n.fields.usernameFuzzyScore()),isNaN(l)||(t+=l),i=parseInt(n.fields.addressFuzzyScore()),isNaN(i)||(t+=i),c=parseInt(n.fields.signUpIpFuzzyScore()),isNaN(c)||(t+=c),h=parseInt(n.fields.mobilePhoneFuzzyScore()),isNaN(h)||(t+=h),r=parseInt(n.fields.dateOfBirthFuzzyScore()),isNaN(r)||(t+=r),f=parseInt(n.fields.emailAddressFuzzyScore()),isNaN(f)||(t+=f),a=parseInt(n.fields.zipCodeFuzzyScore()),isNaN(a)||(t+=a),t}}(this))}return r.prototype.activate=function(n){return this.playerId(n.playerId),$.get("DuplicateMechanism/GetConfiguration",{playerId:this.playerId()}).done(function(n){return function(t){if(t.configuration)return n.fields.deviceIdExactScore(t.configuration.deviceIdExactScore),n.fields.firstNameExactScore(t.configuration.firstNameExactScore),n.fields.lastNameExactScore(t.configuration.lastNameExactScore),n.fields.fullNameExactScore(t.configuration.fullNameExactScore),n.fields.usernameExactScore(t.configuration.usernameExactScore),n.fields.addressExactScore(t.configuration.addressExactScore),n.fields.signUpIpExactScore(t.configuration.signUpIpExactScore),n.fields.mobilePhoneExactScore(t.configuration.mobilePhoneExactScore),n.fields.dateOfBirthExactScore(t.configuration.dateOfBirthExactScore),n.fields.emailAddressExactScore(t.configuration.emailAddressExactScore),n.fields.zipCodeExactScore(t.configuration.zipCodeExactScore),n.fields.deviceIdFuzzyScore(t.configuration.deviceIdFuzzyScore),n.fields.firstNameFuzzyScore(t.configuration.firstNameFuzzyScore),n.fields.lastNameFuzzyScore(t.configuration.lastNameFuzzyScore),n.fields.fullNameFuzzyScore(t.configuration.fullNameFuzzyScore),n.fields.usernameFuzzyScore(t.configuration.usernameFuzzyScore),n.fields.addressFuzzyScore(t.configuration.addressFuzzyScore),n.fields.signUpIpFuzzyScore(t.configuration.signUpIpFuzzyScore),n.fields.mobilePhoneFuzzyScore(t.configuration.mobilePhoneFuzzyScore),n.fields.dateOfBirthFuzzyScore(t.configuration.dateOfBirthFuzzyScore),n.fields.emailAddressFuzzyScore(t.configuration.emailAddressFuzzyScore),n.fields.zipCodeFuzzyScore(t.configuration.zipCodeFuzzyScore)}}(this))},r.prototype.attached=function(n){var t,i;i=this;t=findGrid(n);$("form",n).submit(function(){return t.trigger("reload"),!1});return $(n).on("click",".jqgrow",function(){var n;return i.selectedRowId($(this).attr("id")),n=t.find(".ui-jqgrid-btable"),n.jqGrid("getRowData",i.selectedRowId())})},r.prototype.setMetadata=function(n){var t;return t=this.metadata(),t.push({id:n[0],data:JSON.parse(n[1])}),this.metadata(t)},r.prototype.colorClass=function(n,t,i){var r;return r=_.findLast(this.metadata(),function(){return function(n){return n.id===i}}(this)),_.include(r.data,n)?'<span class="red">'+t+"<\/span>":t},r}()})}).call(this);
(function(){define(["i18next","shell","moment","config","controls/grid"],function(n,t,i,r){return function(){function u(){var n,u;this.shell=t;this.moment=i;this.config=r;n=ko.observables();this.playerId=n[0];this.currentWallet=n[1];u=ko.observableArrays();this.wallets=u[0];this.walletsName=u[1];this.transactionTypeNames=ko.observable({})}return u.prototype.activate=function(t){return this.playerId(t.playerId),$.when.apply($,[$.get(this.config.adminApi("PlayerInfo/GetWalletTemplates"),{playerId:this.playerId()}).done(function(n){return function(t){var u,i,f,r;for(r=[],i=0,f=t.length;i<f;i++)u=t[i],r.push(n.walletsName.push(u.name));return r}}(this)),$.get(this.config.adminApi("PlayerInfo/GetTransactionTypes")).done(function(t){return function(i){var u,r,o,f,e;for(f=i.types,e=[],r=0,o=f.length;r<o;r++)u=f[r],e.push(t.transactionTypeNames()[u.name]=n.t("playerManager.transactions.types."+u.name));return e}}(this))])},u.prototype.attached=function(n){var t;return t=findGrid(n),$("form",n).submit(function(){return t.trigger("reload"),!1})},u.prototype.typeFormatter=function(){return n.t("playerManager.transactions.types."+this.Type)},u}()})}).call(this);
(function(){var n=function(n,t){return function(){return n.apply(t,arguments)}};define(function(t){var r,i,u;return i=t("plugins/dialog"),u=t("i18next"),r=t("config"),function(){function t(t,i){this.ok=n(this.ok,this);this.title=ko.observable();this.remarks=ko.observable(i).extend({required:!0});this.logId=ko.observable(t);this.errors=ko.validation.group(this);this.submitted=ko.observable(!1);this.message=ko.observable();this.error=ko.observable()}return t.prototype.ok=function(){return this.isValid()?$.ajax({type:"POST",url:r.adminApi("PlayerInfo/EditLogRemark"),data:ko.toJSON({logId:this.logId(),remarks:this.remarks()}),contentType:"application/json".done(function(){return function(){}}(this))},data.result==="failed"?this.error(data.data):(this.message("Remark edited"),this.submitted(!0),typeof this.callback=="function"?this.callback():void 0)):this.errors.showAllMessages()},t.prototype.cancel=function(){return i.close(this)},t.prototype.clear=function(){return this.remarks("")},t.prototype.show=function(n){return this.title("Edit remarks"),this.callback=n,i.show(this)},t}()})}).call(this);
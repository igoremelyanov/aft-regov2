(function(){define(function(n){var r,i,u,t;return r=n("layout/document-container/document-container"),u=n("nav"),i=n("config"),t=n("security/security"),function(){function n(){var n;n=ko.observables();this.playerId=n[0];this.fullName=n[1];this.username=n[2];this.activated=n[3];this.isOnline=ko.observable(!1);this.statusClass=ko.computed(function(n){return function(){return n.isOnline()?"green":"red"}}(this));this.statusLabel=ko.computed(function(n){return function(){return n.isOnline()?"Online":"Offline"}}(this));this.getStatusFlag=!1;this.updateStatusInterval=setInterval(function(n){return function(){var t;if(!n.getStatusFlag)return t=u.mainContainer.activeItem(),n.playerId()&&t.signature.title()==="Player Manager"?(n.getStatusFlag=!0,$.get(i.adminApi("PlayerInfo/GetStatus"),{playerId:n.playerId()}).success(function(t){return n.isOnline(t)}).always(function(){return n.getStatusFlag=!1})):void 0}}(this),5e3);this.container=new r}return n.prototype.activate=function(n){var r;return this.playerId(n.playerId),r=function(n){return function(t,i){return n.container.addItem({title:i,path:t,lazy:!0,data:{playerId:n.playerId()}})}}(this),r("player-manager/info/account","Account Information"),r("player-manager/info/balance","Balance Information"),r("player-manager/info/restrictions","Account Restrictions"),r("player-manager/info/activity-log","Activity Log"),r("player-manager/info/bank-accounts","Bank Accounts"),r("player-manager/info/deposits","Deposit History"),r("player-manager/info/withdrawals","Withdraw History"),r("player-manager/info/transactions","Transactions"),r("player-manager/info/transactions-adv","Advanced Transactions"),r("player-manager/info/fraud-evaluation","Fraud Evaluation"),r("player-manager/info/identity-verification","Identity Verification"),r("player-manager/info/bonus/issue","Issue bonus"),r("player-manager/info/bonus/history","Bonus history"),t.isOperationAllowed(t.permissions.view,t.categories.responsibleGambling)&&r("player-manager/info/responsible-gambling","Responsible gambling"),$.ajax(i.adminApi("PlayerInfo/GetPlayerTitle?id="+this.playerId())).done(function(n){return function(t){return console.log(t),n.fullName(t.firstName+" "+t.lastName),n.username(t.username),n.isOnline(t.isOnline)}}(this))},n}()})}).call(this);
(function(){var n={}.hasOwnProperty,t=function(t,i){function u(){this.constructor=t}for(var r in i)n.call(i,r)&&(t[r]=i[r]);return u.prototype=i.prototype,t.prototype=new u,t.__super__=i.prototype,t};define(function(n){var f,r,u,i;return n("controls/grid"),u=n("nav"),r=n("i18next"),f=n("durandal/app"),i=n("security/security"),function(n){function f(){var n;f.__super__.constructor.apply(this,arguments);this.isEditAllowed=ko.observable(i.isOperationAllowed(i.permissions.update,i.categories.paymentLevelSettings));this.noRecordsFound=ko.observable(!1);this.rowId=ko.observable();this.selectedRowId=ko.observable();this.brandNameSearchPattern=ko.observable();this.Search=ko.observable();n=ko.observableArrays();this.brands=n[0];this.licensees=n[1];this.paymentGateways=n[2];this.statuses=n[3];this.paymentTypes=n[4];this.paymentMethods=n[5];this.currencies=n[6];this.paymentLevels=n[7];this.filtersCriteria=ko.computed(function(n){return function(){var i,t,r;return r=n.licensees,i=n.brands,t={},r!=null&&(t["Brand.LicenseeName"]=r),i!=null&&(t["Brand.Name"]=i),t}}(this))}return t(f,n),f.prototype.reloadGrid=function(){return $("#payment-level-settings-grid").trigger("reload")},f.prototype.rowChange=function(){return this.noRecordsFound($("#payment-level-settings-grid")[0].gridParam("reccount")===0)},f.prototype.activate=function(){return f.__super__.activate.apply(this,arguments),$.get("Licensee/Licensees?useFilter=true").done(function(n){return function(t){var f,i,e,r,u;for(r=t.licensees,u=[],i=0,e=r.length;i<e;i++)f=r[i],u.push(n.licensees.push(f.name));return u}}(this)),$.get("/PaymentSettings/BrandsList").done(function(n){return function(t){var u,i,f,r;for(r=[],i=0,f=t.length;i<f;i++)u=t[i],r.push(n.brands.push(u));return r}}(this)),$.get("/PaymentSettings/PaymentTypesList").done(function(n){return function(t){var u,i,f,r;for(r=[],i=0,f=t.length;i<f;i++)u=t[i],r.push(n.paymentTypes.push(u));return r}}(this)),$.get("/PaymentSettings/PaymenMethodsList").done(function(n){return function(t){var u,i,f,r;for(r=[],i=0,f=t.length;i<f;i++)u=t[i],r.push(n.paymentMethods.push(u));return r}}(this)),$.get("/PaymentSettings/CurrencyList").done(function(n){return function(t){var u,i,f,r;for(r=[],i=0,f=t.length;i<f;i++)u=t[i],r.push(n.currencies.push(u));return r}}(this)),$.get("/PaymentLevel/GetPaymentLevels").done(function(n){return function(t){var f,i,e,r,u;for(r=t.data.paymentLevels,u=[],i=0,e=r.length;i<e;i++)f=r[i],u.push(n.paymentLevels.push(f.name));return u}}(this))},f.prototype.openEditTab=function(){var t,n,i;return t=$("#payment-level-settings-grid")[0],i=t.gridParam("selarrrow"),n=[],i.length>0?(ko.utils.arrayForEach(i,function(){return function(i){var r;return r=t.getRowData(i),r.id=i,n.push(r)}}(this)),u.open({path:"player-manager/payment-level-settings/setPaymentLevel",title:r.t("app:playerManager.paymentLevelSettings.setPaymentLevel"),data:{playerData:n,brandId:n[0].BrandId,currency:n[0].Currency}})):void 0},f}(n("vmGrid"))})}).call(this);
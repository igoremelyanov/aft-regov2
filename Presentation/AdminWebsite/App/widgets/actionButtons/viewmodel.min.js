(function(){define(function(n){var t;return t=n("i18next"),function(){function n(){$.extend(this,ko.mapping.fromJS({outsideCount:100,moreExpanded:!1,buttons:[]}));this.outsideButtons=ko.computed(function(n){return function(){return ko.utils.arrayFilter(n.buttons(),function(t,i){return i<n.outsideCount()})}}(this));this.insideButtons=ko.computed(function(n){return function(){return ko.utils.arrayFilter(n.buttons(),function(t,i){return i>=n.outsideCount()})}}(this));this.moreVisible=ko.computed(function(n){return function(){return n.insideButtons().length}}(this));this.toggleMoreExpanded=function(n){return function(){return n.moreExpanded(!n.moreExpanded())}}(this)}return n.prototype.activate=function(n){var i,e,r,o,u,f;for(this.buttons(n.buttons),e=n.context,u=this.buttons(),f=[],r=0,o=u.length;r<o;r++)i=u[r],i.text=i.text.indexOf(!1)?t.t(i.text):i.text,i.visible=ko.computed(function(){return this.visible!=null?this.visible():!0},i),i.disabled=ko.computed(function(){return this.enabled!=null?!this.enabled():!1},i),i.iconVisible=i.icon!=null,i.icon="fa-"+i.icon,i.btnClick=function(){if(this.visible()&&!this.disabled())return this.click.call(e)},i.isGreen=ko.computed(function(){return this.color==="green"},i),f.push(i.isRed=ko.computed(function(){return this.color==="red"},i));return f},n.prototype.attached=function(n){this.view=n},n.prototype.compositionComplete=function(){$(window).on("resize orientationchange",this.fit.bind(this));return setTimeout(function(n){return function(){return n.fit()}}(this))},n.prototype.fit=function(){var n,t,i;return i=this.view,this.outsideCount(this.buttons().length),t=(n=$(">button",i)).filter(function(t){var i,r,u;return u=$(this).offset().left+$(this).outerWidth(),r=(i=$(this).parent().parent().parent()).offset().left+i.width(),$(this).position().top===n.position().top&&(r-u>80||t===n.length-1)}),this.outsideCount(t.length)},n}()})}).call(this);
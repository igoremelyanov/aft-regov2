(function(){var n=function(n,t){return function(){return n.apply(t,arguments)}};define(["i18next"],function(t){return function(){function i(){this.selectAllAssignedItems=n(this.selectAllAssignedItems,this);this.selectAllAvailableItems=n(this.selectAllAvailableItems,this);this.unassign=n(this.unassign,this);this.assign=n(this.assign,this);this.select=n(this.select,this);this.getItemValue=n(this.getItemValue,this);this.activate=n(this.activate,this);this.selectedAssignedItems=ko.observableArray();this.selectedAvailableItems=ko.observableArray();this.assignedItems=ko.observableArray();this.availableItems=ko.observableArray();this.selectedLabelText=ko.observable();this.availableLabelText=ko.observable();this.isAllAvailableSelected=ko.observable(!1);this.isAllAssignedSelected=ko.observable(!1);this.selectedAvailableItems.subscribe(function(n){return function(){return n.availableItems().length===n.selectedAvailableItems().length&&n.availableItems().length>0?n.isAllAvailableSelected(!0):n.isAllAvailableSelected(!1)}}(this));this.selectedAssignedItems.subscribe(function(n){return function(){return n.assignedItems().length===n.selectedAssignedItems().length&&n.assignedItems().length>0?n.isAllAssignedSelected(!0):n.isAllAssignedSelected(!1)}}(this))}return i.prototype.activate=function(n){return this.settings=n,this.selectedLabelText(t.t(n.selected.labelText)),this.availableLabelText(t.t(n.availableLabelText)),ko.computed(function(t){return function(){var i,r,u,s,h,f,c,e,o,l,a;if(i=n.allItems(),f=n.selected.items(),i){if(r=[],n.optionsValue!=null)for(e=0,l=f.length;e<l;e++)for(c=f[e],o=0,a=i.length;o<a;o++)h=i[o],t.getItemValue(h)===c&&r.push(h);else r=f;return r.length===0?t.availableItems(i):(s=ko.utils.compareArrays(i,r),t.availableItems(function(){var n,i,t;for(t=[],n=0,i=s.length;n<i;n++)u=s[n],u.status==="deleted"&&u.moved===void 0&&t.push(u.value);return t}())),t.assignedItems(r),t.selectedAssignedItems([]),t.selectedAvailableItems([])}}}(this))},i.prototype.getItemValue=function(n){var t;return t=n[this.settings.optionsValue],ko.isObservable(t)?t():t},i.prototype.select=function(n){var t;return this.settings.optionsValue!=null&&(n=function(){var i,u,r;for(r=[],i=0,u=n.length;i<u;i++)t=n[i],r.push(this.getItemValue(t));return r}.call(this)),this.settings.selected.items(n)},i.prototype.assign=function(){var n;return n=this.selectedAvailableItems().concat(this.assignedItems()),this.selectedAvailableItems.removeAll(),this.select(n)},i.prototype.unassign=function(){var n;return n=_.difference(this.assignedItems(),this.selectedAssignedItems()),this.selectedAssignedItems.removeAll(),this.select(n)},i.prototype.selectAllAvailableItems=function(){return this.isAllAvailableSelected()?this.selectedAvailableItems.removeAll():(this.selectedAvailableItems.removeAll(),ko.utils.arrayPushAll(this.selectedAvailableItems,this.availableItems())),!0},i.prototype.selectAllAssignedItems=function(){return this.isAllAssignedSelected()?this.selectedAssignedItems.removeAll():(this.selectedAssignedItems.removeAll(),ko.utils.arrayPushAll(this.selectedAssignedItems,this.assignedItems())),!0},i}()})}).call(this);
(function(){var n={}.hasOwnProperty,t=function(t,i){function u(){this.constructor=t}for(var r in i)n.call(i,r)&&(t[r]=i[r]);return u.prototype=i.prototype,t.prototype=new u,t.__super__=i.prototype,t};define(function(n){var r,f,u,i;return r=n("i18next"),i=n("security/security"),u=n("nav"),f=n("currency-manager/status-dialog"),function(n){function e(){var n;e.__super__.constructor.apply(this,arguments);this.isViewAllowed=ko.observable(i.isOperationAllowed(i.permissions.view,i.categories.currencyManager));this.isAddAllowed=ko.observable(i.isOperationAllowed(i.permissions.create,i.categories.currencyManager));this.isEditAllowed=ko.observable(i.isOperationAllowed(i.permissions.update,i.categories.currencyManager));this.isActivateAllowed=ko.observable(i.isOperationAllowed(i.permissions.activate,i.categories.currencyManager));this.isDeactivateAllowed=ko.observable(i.isOperationAllowed(i.permissions.deactivate,i.categories.currencyManager));this.name=ko.observable();this.status=ko.observable();this.hasLicensee=ko.observable();n=ko.computed(function(n){return function(){return n.status()==="Active"}}(this));this.canActivate=ko.computed(function(t){return function(){return t.rowId()&&!n()}}(this));this.canDeactivate=ko.computed(function(t){return function(){return t.rowId()&&n()&&!t.hasLicensee()}}(this))}return t(e,n),e.prototype.rowChange=function(n){return this.name(n.data.Name),this.status(n.data.Status),this.hasLicensee(n.data.HasLicense==="true")},e.prototype.openAddTab=function(){return u.open({path:"currency-manager/edit",title:r.t("app:currencies.new")})},e.prototype.openEditTab=function(){return u.open({path:"currency-manager/edit",title:r.t("app:currencies.edit"),data:{oldCode:this.rowId(),oldName:this.name()}})},e.prototype.openViewTab=function(){return u.open({path:"currency-manager/view",title:r.t("app:currencies.view"),data:{code:this.rowId(),oldName:this.name()}})},e.prototype.showDialog=function(){return f.show(this.rowId(),this.status(),function(n){return function(){return n.reloadGrid()}}(this))},e}(n("vmGrid"))})}).call(this);
(function(){define(["i18next"],function(n){return function(){function t(t){var i;this.productsArray=t;i=this;this.dummyObservable=ko.observable();this.id=ko.observable();this.products=ko.observableArray(this.productsArray);this.selectedProduct=ko.observable();this.comparisonOperator=ko.observable();this.amount=ko.observable(0).extend({formatDecimal:2,validatable:!0,validation:[{validator:function(){return function(n){return i.dummyObservable(),n>=0}}(this),message:n.t("app:common.validationMessages.amountGreaterOrEquals",{amount:0})}],min:{params:0,message:n.t("app:common.validationMessages.amountGreaterOrEquals",{amount:0})},max:{params:2147483647,message:n.t("app:common.validationMessages.amountIsBiggerThenAllowed")}});this.startDate=ko.observable();this.endDate=ko.observable();this.selectedPeriod=ko.observable();this.errorMessage=ko.observable();(!this.productsArray||this.productsArray&&this.productsArray.length===0)&&this.errorMessage("The brand has no product.")}return t.prototype.loadFromRuleDTO=function(n){return this.amount(n.amount),this.selectedProduct(n.productId),this.comparisonOperator(n.comparison),this.selectedPeriod(n.period),this.startDate(n.startDate),this.endDate(n.endDate)},t.prototype.validate=function(){return this.errorMessage(""),this.amount()||this.errorMessage("Please enter a valid amount."),this.selectedProduct()||this.errorMessage("Please select a product from the list."),this.selectedPeriod()==="4"&&(this.startDate()==="0001/01/01"||this.endDate()==="0001/01/01")?this.errorMessage("Please specify date range for this type of period."):void 0},t}()})}).call(this);
(function(){var n={}.hasOwnProperty,t=function(t,i){function u(){this.constructor=t}for(var r in i)n.call(i,r)&&(t[r]=i[r]);return u.prototype=i.prototype,t.prototype=new u,t.__super__=i.prototype,t};define(["nav","durandal/app","i18next","security/security","shell","controls/grid","JqGridUtil","CommonNaming","fraud/verification/activate-dialog","fraud/verification/deactivate-dialog","vmGrid"],function(n,i,r,u,f,e,o,s,h,c,l){return function(i){function r(){r.__super__.constructor.apply(this,arguments);this.naming=new s("verification-manager");this.gridId="#verification-manager-list";this.rowId=ko.observable();this.shell=f;this.isAddAllowed=ko.observable(u.isOperationAllowed(u.permissions.create,u.categories.autoVerificationConfiguration));this.isEditAllowed=ko.observable(u.isOperationAllowed(u.permissions.update,u.categories.autoVerificationConfiguration));this.isDeleteAllowed=ko.observable(u.isOperationAllowed(u.permissions["delete"],u.categories.autoVerificationConfiguration));this.isActivateAllowed=ko.observable(u.isOperationAllowed(u.permissions.activate,u.categories.autoVerificationConfiguration));this.isDeactivateAllowed=ko.observable(u.isOperationAllowed(u.permissions.deactivate,u.categories.autoVerificationConfiguration));this.canActivate=ko.observable(!1);this.canDeactivate=ko.observable(!1);this.compositionComplete=function(n){return function(){return $(function(){return $(n.gridId).on("gridLoad selectionChange",function(t,i){return n.rowId(i.id),n.canActivate(i.data.Status==="Inactive"),n.canDeactivate(i.data.Status==="Active")})})}}(this)}t(r,i);r.onBrandChanged=function(){return $(r.gridId).trigger("reload")};$(document).on("brand_changed",r.onBrandChanged);return r.detached=function(){return $(document).off("brand_changed",r.onBrandChanged)},r.prototype.add=function(){return n.open({path:"fraud/verification/edit",title:"New Auto Verification Configuration",data:{editMode:!0}})},r.prototype.openViewTab=function(){return n.open({path:"fraud/verification/edit",title:"View Auto Verification Configuration",data:{id:this.rowId(),editMode:!1}})},r.prototype.openEditTab=function(){return n.open({path:"fraud/verification/edit",title:"Edit Auto Verification Configuration",data:{id:this.rowId(),editMode:!0}})},r.prototype.openActivateDialog=function(){return h.show(this,this.rowId())},r.prototype.openDeactivateDialog=function(){return c.show(this,this.rowId())},r}(l)})}).call(this);
(function(){var n={}.hasOwnProperty,t=function(t,i){function u(){this.constructor=t}for(var r in i)n.call(i,r)&&(t[r]=i[r]);return u.prototype=i.prototype,t.prototype=new u,t.__super__=i.prototype,t};define(function(n){var r,i;return i=n("i18next"),r=n("base/base-model"),function(n){function r(){r.__super__.constructor.apply(this,arguments);this.licensees=ko.observableArray();this.licenseeId=ko.observable().extend({required:!0});this.licenseeId.subscribe(function(n){return function(t){if(t!=null)return $.get("/MessageTemplate/Brands?licenseeId="+t).done(function(t){return n.brands(t.brands)})}}(this));this.brands=ko.observableArray();this.brandId=this.makeField().extend({required:!0});this.brandId.subscribe(function(n){return function(t){if(t!=null)return $.get("/MessageTemplate/Languages?brandId="+t).done(function(t){return n.languages(t.languages)})}}(this));this.languages=ko.observableArray();this.languageCode=this.makeField().extend({required:!0});this.messageTypes=ko.observableArray();this.messageType=this.makeField().extend({required:!0});this.messageDeliveryMethods=ko.observableArray();this.messageDeliveryMethod=this.makeField().extend({required:!0});this.messageDeliveryMethod.subscribe(function(n){return function(t){return t==="Email"?(n.isEmail(!0),n.isSms(!1),n.subject.isModified(!1)):t==="Sms"?(n.isSms(!0),n.isEmail(!1),n.subject("")):void 0}}(this));this.isEmail=ko.observable();this.isSms=ko.observable();this.templateName=this.makeField().extend({required:!0});this.subject=this.makeField().extend({required:{onlyIf:function(n){return function(){return n.isEmail()}}(this)}});this.messageContent=this.makeField().extend({required:!0});$.get("/MessageTemplate/Add").done(function(n){return function(t){return n.licensees(t.licensees),n.messageTypes(t.messageTypes),n.messageDeliveryMethods(t.messageDeliveryMethods)}}(this))}return t(r,n),r.prototype.mapto=function(){return r.__super__.mapto.call(this,["licensees","licenseeId","brands","languages","messageTypes","messageDeliveryMethods","isEmail","isSms"])},r.prototype.messageTypeDisplayName=function(n){return i.t("messageTemplates.messageTypes."+n)},r.prototype.messageDeliveryMethodDisplayName=function(n){return i.t("messageTemplates.deliveryMethods."+n)},r}(r)})}).call(this);
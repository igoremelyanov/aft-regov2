(function(){var n={}.hasOwnProperty,t=function(t,i){function u(){this.constructor=t}for(var r in i)n.call(i,r)&&(t[r]=i[r]);return u.prototype=i.prototype,t.prototype=new u,t.__super__=i.prototype,t};define(function(n){var i,f,e,r,u;return u=n("nav"),r=n("i18next"),e=n("base/base-view-model"),f=n("messaging/message-templates/models/add-template-model"),i=n("ace-editor"),function(n){function e(){e.__super__.constructor.apply(this,arguments);this.SavePath="/MessageTemplate/Add";this.Model=new f}return t(e,n),e.prototype.compositionComplete=function(){return new i("add-template-editor-subject",this.Model.subject,!0,!0),new i("add-template-editor-message",this.Model.messageContent,!0,!1)},e.prototype.handleSaveFailure=function(n){var e,u,t,i,o,f;if(t=n!=null?n.fields:void 0,t!=null){for(f=[],i=0,o=t.length;i<o;i++)u=t[i],e=u.errors[0],f.push(this.setError(this.Model[u.name],r.t("app:messageTemplates.validation."+e)));return f}},e.prototype.onsave=function(n){return $(document).trigger("message_template_changed"),u.close(),u.open({path:"messaging/message-templates/view",title:r.t("app:common.view"),data:{id:n.data}})},e}(e)})}).call(this);
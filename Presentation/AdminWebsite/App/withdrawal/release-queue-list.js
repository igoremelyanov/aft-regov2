// Generated by IcedCoffeeScript 108.0.9
(function() {
  var __hasProp = {}.hasOwnProperty,
    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

  define(function(require) {
    var ViewModel, autoVerificationStatusDialog, i18n, jgu, nav, security;
    require("controls/grid");
    nav = require("nav");
    i18n = require("i18next");
    jgu = require("JqGridUtil");
    security = require("security/security");
    autoVerificationStatusDialog = require("withdrawal/withdrawal-log-dialog");
    return ViewModel = (function(_super) {
      var reloadReleaseQueueGrid;

      __extends(ViewModel, _super);

      function ViewModel() {
        ViewModel.__super__.constructor.apply(this, arguments);
      }

      ViewModel.prototype.playerInfo = function(data, event) {
        var id;
        id = event.target.id;
        return nav.open({
          path: "player-manager/info",
          title: i18n.t("app:playerManager.list.playerInfo"),
          data: {
            playerId: id
          }
        });
      };

      ViewModel.prototype.view = function() {
        return nav.open({
          path: "withdrawal/withdrawal-verify",
          title: "View",
          data: {
            id: this.rowId(),
            event: "view",
            gridId: "#accept-grid"
          }
        });
      };

      ViewModel.prototype.release = function() {
        return nav.open({
          path: "withdrawal/withdrawal-verify",
          title: "Release",
          data: {
            id: this.rowId(),
            event: "release",
            gridId: "#release-grid"
          }
        });
      };

      ViewModel.prototype.cancel = function() {
        return nav.open({
          path: "withdrawal/withdrawal-verify",
          title: "Cancel",
          data: {
            id: this.rowId(),
            event: "cancel",
            gridId: "#release-grid"
          }
        });
      };

      reloadReleaseQueueGrid = function() {
        return $("#release-grid .ui-jqgrid-btable").trigger("reloadGrid");
      };

      $(document).on({
        "release_queue_changed": function() {
          return setTimeout(reloadReleaseQueueGrid, 1800);
        }
      });

      return ViewModel;

    })(require("vmGrid"));
  });

}).call(this);

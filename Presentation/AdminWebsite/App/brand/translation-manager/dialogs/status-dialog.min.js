(function(){var n=function(n,t){return function(){return n.apply(t,arguments)}};define(function(){var i,r,t;return r=require("plugins/dialog"),t=require("i18next"),i=require("config"),function(){function u(t,i){this.ok=n(this.ok,this);this.title=ko.observable();this.remarks=ko.observable(i).extend({required:!0});this.userId=ko.observable(t);this.isActive=ko.observable(!0);this.errors=ko.validation.group(this);this.submitted=ko.observable(!1);this.message=ko.observable();this.error=ko.observable()}return u.prototype.ok=function(){return this.isValid()?$.ajax({type:"POST",url:this.isActive()?i.adminApi("ContentTranslation/Activate"):i.adminApi("ContentTranslation/Deactivate"),data:ko.toJSON({id:this.userId(),remarks:this.remarks()}),dataType:"json",contentType:"application/json"}).done(function(n){return function(i){return i.result==="failed"?n.error(i.data):(n.message(t.t(n.isActive()?"app:contenttranslation.messages.translationActivated":"app:contenttranslation.messages.translationDeactivated")),n.submitted(!0),$("#translation-grid").trigger("reload"))}}(this)):this.errors.showAllMessages()},u.prototype.cancel=function(){return r.close(this)},u.prototype.clear=function(){return this.remarks("")},u.prototype.show=function(n){return this.isActive(n),this.title(n?t.t("app:contenttranslation.messages.activateTranslation"):t.t("app:contenttranslation.messages.deactivateTranslation")),r.show(this)},u}()})}).call(this);
(function(){var n={}.hasOwnProperty,t=function(t,i){function u(){this.constructor=t}for(var r in i)n.call(i,r)&&(t[r]=i[r]);return u.prototype=i.prototype,t.prototype=new u,t.__super__=i.prototype,t};define(function(n){var e,r,u,i,f;return e=n("durandal/app"),i=n("security/security"),r=n("i18next"),u=n("nav"),f=n("shell"),function(n){function e(){e.__super__.constructor.apply(this,arguments);this.shell=f;this.rowId=ko.observable();this.gridId="#banks-list";this.hasAddPermission=ko.observable(i.isOperationAllowed(i.permissions.create,i.categories.banks));this.hasEditPermission=ko.observable(i.isOperationAllowed(i.permissions.update,i.categories.banks));this.hasViewPermission=ko.observable(i.isOperationAllowed(i.permissions.view,i.categories.banks));this.compositionComplete=function(n){return function(){return $(function(){return $(n.gridId).on("gridLoad selectionChange",function(t,i){return n.rowId(i.id)})})}}(this);this.onBankChange=function(n){return function(){return $(n.gridId).trigger("reload")}}(this);$(document).on("bank_changed",this.onBankChange);this.detached=function(n){return function(){return $(document).off("bank_changed",n.onBankChange)}}(this)}return t(e,n),e.prototype.openAddTab=function(){return u.open({path:"payments/banks/add",title:r.t("app:common.new")})},e.prototype.openViewTab=function(){var n;return n=this.rowId(),n!=null?u.open({path:"payments/banks/view",title:r.t("app:common.view"),data:{id:n}}):void 0},e.prototype.openEditTab=function(){var n;return n=this.rowId(),n!=null?u.open({path:"payments/banks/edit",title:r.t("app:common.edit"),data:{id:n}}):void 0},e}(n("vmGrid"))})}).call(this);
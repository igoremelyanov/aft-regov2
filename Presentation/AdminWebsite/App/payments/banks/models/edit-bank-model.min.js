(function(){var n={}.hasOwnProperty,t=function(t,i){function u(){this.constructor=t}for(var r in i)n.call(i,r)&&(t[r]=i[r]);return u.prototype=i.prototype,t.prototype=new u,t.__super__=i.prototype,t};define(function(n){var u,r,i,f,e;return f=n("i18next"),i=n("config"),r=n("payments/banks/common"),e=n("regular-expression"),u=n("base/base-model"),function(n){function u(n){u.__super__.constructor.apply(this,arguments);this.id=this.makeField(n.id);this.licenseeId=this.makeField().extend({required:!0});this.brandId=this.makeField().extend({required:!0});this.bankId=this.makeField(n.bankId);this.bankName=this.makeField(n.bankName).extend({required:!0,maxLength:r.bankNameMaxLength,pattern:{message:f.t("banks.validation.AlphanumericDashUnderscoreSpace"),params:e.alphaNumericDashUnderscoreSpace}});this.countryCode=this.makeField().extend({required:!0});this.remarks=this.makeField(n.remarks).extend({required:!0,maxLength:r.remarksMaxLength});this.licensees=this.makeSelect();this.brands=this.makeSelect();this.countries=this.makeSelect();$.ajax("/Licensee/Licensees?useFilter=false").done(function(t){return function(r){return t.licensees(r.licensees),t.licenseeId(n.licenseeId),$.ajax({url:i.adminApi("Brand/Brands?useFilter=false&licensees="+n.licenseeId),context:t}).done(function(r){return t.brands(r.brands),t.brandId(n.brandId),$.ajax({url:i.adminApi("Brand/GetCountries?brandId="+n.brandId),context:t}).done(function(t){return this.countries(t.countries),this.countryCode(n.countryCode),this.licenseeId.subscribe(function(n){return function(t){return n.licenseeId(t),$.ajax({url:i.adminApi("Brand/Brands?useFilter=false&licensees="+t),context:n}).done(function(n){return this.brands(n.brands)})}}(this)),this.brandId.subscribe(function(n){return function(t){return n.brandId(t),$.ajax({url:i.adminApi("Brand/GetCountries?brandId="+t),context:n}).done(function(n){return this.countries(n.countries)})}}(this))})})}}(this))}return t(u,n),u.prototype.mapto=function(){var n;return n=["licensees","licenseeId","brands","countries","bankId"],u.__super__.mapto.call(this,n)},u}(u)})}).call(this);
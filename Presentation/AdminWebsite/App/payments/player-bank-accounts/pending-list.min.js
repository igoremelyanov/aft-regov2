(function(){var n=function(n,t){return function(){return n.apply(t,arguments)}},t={}.hasOwnProperty,i=function(n,i){function u(){this.constructor=n}for(var r in i)t.call(i,r)&&(n[r]=i[r]);return u.prototype=i.prototype,n.prototype=new u,n.__super__=i.prototype,n};define(function(t){var s,u,f,r,e,o;return s=t("durandal/app"),r=t("security/security"),u=t("i18next"),f=t("nav"),e=t("shell"),o=t("payments/player-bank-accounts/status-dialog"),function(t){function s(){this.setEventHandlers=n(this.setEventHandlers,this);this.reloadGrid=n(this.reloadGrid,this);s.__super__.constructor.apply(this,arguments);this.shell=e;this.statusDialog=o;this.rowId=ko.observable();this.gridId="player-bank-account-verify-grid";this.hasViewPermission=ko.observable(r.isOperationAllowed(r.permissions.view,r.categories.playerBankAccount));this.hasVerifyPermission=ko.observable(r.isOperationAllowed(r.permissions.verify,r.categories.playerBankAccount));this.hasRejectPermission=ko.observable(r.isOperationAllowed(r.permissions.reject,r.categories.playerBankAccount));this.compositionComplete=function(n){return function(){return $(function(){return $(n.gridId).on("gridLoad selectionChange",function(t,i){return n.rowId(i.id)})})}}(this);this.detached=function(n){return function(){return n.setEventHandlers(!1)}}(this);this.setEventHandlers(!0)}return i(s,t),s.prototype.reloadGrid=function(){return $("#"+this.gridId).trigger("reload")},s.prototype.setEventHandlers=function(n){var i,t,r,u,o,s,f,e;if(t=["player_bank_account_created","player_bank_account_updated"],n){for(f=[],r=0,o=t.length;r<o;r++)i=t[r],f.push($(document).on(i,this.reloadGrid));return f}for(e=[],u=0,s=t.length;u<s;u++)i=t[u],e.push($(document).off(i,this.reloadGrid));return e},s.prototype.openViewTab=function(){return f.open({path:"payments/player-bank-accounts/edit",title:u.t("app:banks.viewAccount"),data:{id:this.rowId(),isView:!0,naming:{gridBodyId:this.gridId}}})},s.prototype.openVerifyDialog=function(){return this.statusDialog.show(this,!0)},s.prototype.openRejectDialog=function(){return this.statusDialog.show(this,!1)},s}(t("vmGrid"))})}).call(this);
(function(){var n={}.hasOwnProperty,t=function(t,i){function u(){this.constructor=t}for(var r in i)n.call(i,r)&&(t[r]=i[r]);return u.prototype=i.prototype,t.prototype=new u,t.__super__=i.prototype,t};define(function(n){var e,i,f,r,o,s,h,u;return r=n("i18next"),h=n("datePicker"),f=n("config"),i=n("payments/bank-accounts/common"),u=n("regular-expression"),e=n("base/base-model"),o=n("komapping"),s=n("moment"),function(n){function e(){e.__super__.constructor.apply(this,arguments);$.get("/Licensee/Licensees?useFilter=true").done(function(n){return function(t){return n.licensees(t.licensees)}}(this));this.licensees=this.makeSelect();this.licenseeId=ko.observable().extend({required:!0});this.licenseeId.subscribe(function(n){return function(t){var i;return i=n,t!=null?$.get(f.adminApi("Brand/Brands?useFilter=true&licensees="+t)).done(function(n){return i.brands(n.brands)}):void 0}}(this));this.brands=this.makeSelect();this.brandId=this.makeField().extend({required:!0});this.brandId.subscribe(function(n){return function(t){var i;return i=n,t!=null?($.get(f.adminApi("BrandCurrency/GetBrandCurrenciesWithNames?brandId="+t)).done(function(n){return i.currencies(n.currencyCodes)}),$.get("BankAccounts/GetBanks?brandId="+t).done(function(n){return i.banks(n.banks)})):void 0}}(this));this.currencies=this.makeSelect();this.currencyCode=this.makeField().extend({required:!0});this.bankAccountId=this.makeField().extend({required:!0,maxLength:i.bankIdMaxLength,pattern:{message:r.t("bankAccounts.validation.AlphanumericDashUnderscoreSpace"),params:u.alphaNumericDashUnderscoreSpace}});this.bankId=ko.observable().extend({required:!0});this.banks=this.makeSelect();this.bankAccountNumber=this.makeField().extend({required:!0,maxLength:i.bankAccountNumberMaxLength,pattern:{message:r.t("bankAccounts.validation.AlphanumericDashUnderscoreSpace"),params:u.alphaNumericDashUnderscoreSpace}});this.bankAccountName=this.makeField().extend({required:!0,maxLength:i.bankAccountNameMaxLength,pattern:{message:r.t("bankAccounts.validation.AlphanumericDashUnderscoreSpace"),params:u.alphaNumericDashUnderscoreSpace}});this.bankAccountProvince=this.makeField().extend({required:!0,maxLength:i.bankAccountProvinceMaxLength,pattern:{message:r.t("bankAccounts.validation.AlphanumericDashUnderscoreSpace"),params:u.alphaNumericDashUnderscoreSpace}});this.bankAccountBranch=this.makeField().extend({required:!0,maxLength:i.bankAccountBranchMaxLength,pattern:{message:r.t("bankAccounts.validation.AlphanumericDashUnderscoreSpace"),params:u.alphaNumericDashUnderscoreSpace}});$.get("BankAccounts/GetBankAccountTypes").done(function(n){return function(t){return n.bankAccountAccountTypes(t.bankAccountTypes)}}(this));this.bankAccountAccountTypeId=ko.observable().extend({required:!0});this.bankAccountAccountTypes=this.makeSelect();this.supplierName=this.makeField().extend({required:!0,maxLength:i.supplierNameMaxLength});this.contactNumber=this.makeField().extend({required:!0,maxLength:i.contactNumberMaxLength,pattern:{message:r.t("bankAccounts.validation.Numeric"),params:u.numeric}});this.usbCode=this.makeField().extend({required:!0,maxLength:i.usbCodeMaxLength,pattern:{message:r.t("bankAccounts.validation.Alphanumeric"),params:u.alphaNumeric}});this.purchasedDate=this.makeField().extend({required:!0});this.utilizationDate=this.makeField().extend({required:!0});this.expirationDate=this.makeField().extend({required:!0});this.maxSize=4194304;this.uploadId1FieldId=ko.observable("bank-account-upload-id-1");this.uploadId1Src=ko.observable();this.file1Src=ko.observable();this.idFrontImage=this.makeField().extend({required:!0,validation:{validator:function(n){return function(){var t,i;return t=$("input#"+n.uploadId1FieldId())[0],i=t?t.files[0]:void 0,i&&i.size<=n.maxSize}}(this),message:"Maximum file size is 4Mb."}});this.uploadId2FieldId=ko.observable("bank-account-upload-id-2");this.uploadId2Src=ko.observable();this.file2Src=ko.observable();this.idBackImage=this.makeField().extend({required:!0,validation:{validator:function(n){return function(){var t,i;return t=$("input#"+n.uploadId2FieldId())[0],i=t?t.files[0]:void 0,i&&i.size<=n.maxSize}}(this),message:"Maximum file size is 4Mb."}});this.uploadId3FieldId=ko.observable("bank-account-upload-id-3");this.uploadId3Src=ko.observable();this.file3Src=ko.observable();this.atmCardImage=this.makeField().extend({required:!0,validation:{validator:function(n){return function(){var t,i;return t=$("input#"+n.uploadId3FieldId())[0],i=t?t.files[0]:void 0,i&&i.size<=n.maxSize}}(this),message:"Maximum file size is 4Mb."}});this.remarks=this.makeField().extend({required:!0,maxLength:i.remarksMaxLength})}return t(e,n),e.prototype.makeFileInputSettings=function(n){return{style:"well",btn_choose:"Drop image or click to choose",no_file:"No File ...",droppable:!0,thumbnail:"fit",before_change:function(n){var t,i;if(t=n[0],typeof t=="string"){if(!/\.(jpe?g|png|gif)$/i.test(t))return-1}else return t&&(i=$.trim(t.type),(i.length>0&&!/^image\/(jpe?g|png|gif)$/i.test(i)||i.length===0&&!/\.(jpe?g|png|gif)$/i.test(t.name))&&-1),!0},before_remove:function(){return n(""),!0}}},e.prototype.mapto=function(){var n;return n=["licensees","licenseeId","brands","currencies"],e.__super__.mapto.call(this,n)},e}(e)})}).call(this);